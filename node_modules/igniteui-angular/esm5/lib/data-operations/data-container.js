/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { DataUtil } from './data-util';
/** @enum {number} */
var DataAccess = {
    OriginalData: 0,
    TransformedData: 1,
};
export { DataAccess };
DataAccess[DataAccess.OriginalData] = "OriginalData";
DataAccess[DataAccess.TransformedData] = "TransformedData";
/**
 * @hidden
 */
var /**
 * @hidden
 */
DataContainer = /** @class */ (function () {
    function DataContainer(data) {
        if (data === void 0) { data = []; }
        this.state = {};
        this.data = data;
        this.transformedData = data;
    }
    /**
     * @param {?=} state
     * @return {?}
     */
    DataContainer.prototype.process = /**
     * @param {?=} state
     * @return {?}
     */
    function (state) {
        if (state) {
            this.state = state;
        }
        this.transformedData = this.data;
        // apply data operations
        this.transformedData = DataUtil.process(this.data, this.state);
        return this;
    };
    /**
     * @param {?} record
     * @param {?=} dataAccess
     * @return {?}
     */
    DataContainer.prototype.getIndexOfRecord = /**
     * @param {?} record
     * @param {?=} dataAccess
     * @return {?}
     */
    function (record, dataAccess) {
        if (dataAccess === void 0) { dataAccess = DataAccess.OriginalData; }
        var /** @type {?} */ data = this.accessData(dataAccess);
        return data.indexOf(record);
    };
    /**
     * @param {?} index
     * @param {?=} dataAccess
     * @return {?}
     */
    DataContainer.prototype.getRecordByIndex = /**
     * @param {?} index
     * @param {?=} dataAccess
     * @return {?}
     */
    function (index, dataAccess) {
        if (dataAccess === void 0) { dataAccess = DataAccess.OriginalData; }
        var /** @type {?} */ data = this.accessData(dataAccess);
        return data[index];
    };
    /**
     * @param {?} fieldName
     * @param {?} value
     * @param {?=} dataAccess
     * @return {?}
     */
    DataContainer.prototype.getRecordInfoByKeyValue = /**
     * @param {?} fieldName
     * @param {?} value
     * @param {?=} dataAccess
     * @return {?}
     */
    function (fieldName, value, dataAccess) {
        if (dataAccess === void 0) { dataAccess = DataAccess.OriginalData; }
        var /** @type {?} */ data = this.accessData(dataAccess);
        var /** @type {?} */ len = data.length;
        var /** @type {?} */ res = { index: -1, record: undefined };
        var /** @type {?} */ i;
        for (i = 0; i < len; i++) {
            if (data[i][fieldName] === value) {
                res.index = i;
                res.record = data[i];
                break;
            }
        }
        return res;
    };
    /**
     * @param {?} record
     * @param {?=} at
     * @return {?}
     */
    DataContainer.prototype.addRecord = /**
     * @param {?} record
     * @param {?=} at
     * @return {?}
     */
    function (record, at) {
        var /** @type {?} */ data = this.accessData(DataAccess.OriginalData);
        if (at === null || at === undefined) {
            data.push(record);
        }
        else {
            data.splice(at, 0, record);
        }
    };
    /**
     * @param {?} record
     * @return {?}
     */
    DataContainer.prototype.deleteRecord = /**
     * @param {?} record
     * @return {?}
     */
    function (record) {
        var /** @type {?} */ index = this.getIndexOfRecord(record, DataAccess.OriginalData);
        return this.deleteRecordByIndex(index);
    };
    /**
     * @param {?} index
     * @return {?}
     */
    DataContainer.prototype.deleteRecordByIndex = /**
     * @param {?} index
     * @return {?}
     */
    function (index) {
        var /** @type {?} */ data = this.accessData(DataAccess.OriginalData);
        return data.splice(index, 1).length === 1;
    };
    /**
     * @param {?} index
     * @param {?} newProperties
     * @return {?}
     */
    DataContainer.prototype.updateRecordByIndex = /**
     * @param {?} index
     * @param {?} newProperties
     * @return {?}
     */
    function (index, newProperties) {
        var /** @type {?} */ dataAccess = DataAccess.OriginalData;
        var /** @type {?} */ foundRec = this.getRecordByIndex(index, dataAccess);
        if (!foundRec) {
            return undefined;
        }
        return Object.assign(foundRec, newProperties);
    };
    /**
     * @param {?} dataAccess
     * @return {?}
     */
    DataContainer.prototype.accessData = /**
     * @param {?} dataAccess
     * @return {?}
     */
    function (dataAccess) {
        var /** @type {?} */ res;
        switch (dataAccess) {
            case DataAccess.OriginalData:
                res = this.data;
                break;
            case DataAccess.TransformedData:
                res = this.transformedData;
                break;
        }
        return res;
    };
    return DataContainer;
}());
/**
 * @hidden
 */
export { DataContainer };
function DataContainer_tsickle_Closure_declarations() {
    /** @type {?} */
    DataContainer.prototype.data;
    /**
     * processed data
     * @type {?}
     */
    DataContainer.prototype.transformedData;
    /** @type {?} */
    DataContainer.prototype.state;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS1jb250YWluZXIuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9pZ25pdGV1aS1hbmd1bGFyLyIsInNvdXJjZXMiOlsibGliL2RhdGEtb3BlcmF0aW9ucy9kYXRhLWNvbnRhaW5lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQ0EsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQzs7Ozs7Ozs7Ozs7O0FBcUJ2Qzs7O0FBQUE7SUFRSSx1QkFBWSxJQUFnQjtRQUFoQixxQkFBQSxFQUFBLFNBQWdCO3FCQUZELEVBQzFCO1FBRUcsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7S0FDL0I7Ozs7O0lBQ00sK0JBQU87Ozs7Y0FBQyxLQUFrQjtRQUM3QixFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ1IsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7U0FDdEI7UUFDRCxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7O1FBRWpDLElBQUksQ0FBQyxlQUFlLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMvRCxNQUFNLENBQUMsSUFBSSxDQUFDOzs7Ozs7O0lBSVQsd0NBQWdCOzs7OztjQUFDLE1BQWMsRUFBRSxVQUFnRDtRQUFoRCwyQkFBQSxFQUFBLGFBQXlCLFVBQVUsQ0FBQyxZQUFZO1FBQ3BGLHFCQUFNLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDOzs7Ozs7O0lBRXpCLHdDQUFnQjs7Ozs7Y0FBQyxLQUFhLEVBQUUsVUFBZ0Q7UUFBaEQsMkJBQUEsRUFBQSxhQUF5QixVQUFVLENBQUMsWUFBWTtRQUNu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Q2hCLEtBQUssQ0FBQztZQUNOLEtBQUssVUFBVSxDQUFDLGVBQWU7Z0JBQy9CLEdBQUcsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDO2dCQUMzQixLQUFLLENBQUM7U0FDVDtRQUNELE1BQU0sQ0FBQyxHQUFHLENBQUM7S0FDZDt3QkF4R0w7SUF5R0MsQ0FBQTs7OztBQW5GRCx5QkFtRkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJRGF0YVN0YXRlIH0gZnJvbSAnLi9kYXRhLXN0YXRlLmludGVyZmFjZSc7XG5pbXBvcnQgeyBEYXRhVXRpbCB9IGZyb20gJy4vZGF0YS11dGlsJztcbmltcG9ydCB7IEZpbHRlcmluZ0xvZ2ljLCBJRmlsdGVyaW5nRXhwcmVzc2lvbiB9IGZyb20gJy4vZmlsdGVyaW5nLWV4cHJlc3Npb24uaW50ZXJmYWNlJztcbmltcG9ydCB7IElGaWx0ZXJpbmdTdGF0ZSB9IGZyb20gJy4vZmlsdGVyaW5nLXN0YXRlLmludGVyZmFjZSc7XG5pbXBvcnQgeyBGaWx0ZXJpbmdTdHJhdGVneSwgSUZpbHRlcmluZ1N0cmF0ZWd5IH0gZnJvbSAnLi9maWx0ZXJpbmctc3RyYXRlZ3knO1xuaW1wb3J0IHsgSVBhZ2luZ1N0YXRlLCBQYWdpbmdFcnJvciB9IGZyb20gJy4vcGFnaW5nLXN0YXRlLmludGVyZmFjZSc7XG5pbXBvcnQgeyBJUmVjb3JkSW5mbyB9IGZyb20gJy4vcmVjb3JkLWluZm8uaW50ZXJmYWNlJztcbmltcG9ydCB7IElTb3J0aW5nRXhwcmVzc2lvbiwgU29ydGluZ0RpcmVjdGlvbiB9IGZyb20gJy4vc29ydGluZy1leHByZXNzaW9uLmludGVyZmFjZSc7XG5pbXBvcnQgeyBJU29ydGluZ1N0YXRlIH0gZnJvbSAnLi9zb3J0aW5nLXN0YXRlLmludGVyZmFjZSc7XG5pbXBvcnQgeyBJU29ydGluZ1N0cmF0ZWd5LCBTb3J0aW5nU3RyYXRlZ3kgfSBmcm9tICcuL3NvcnRpbmctc3RyYXRlZ3knO1xuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGVudW0gRGF0YUFjY2VzcyB7XG4gICAgT3JpZ2luYWxEYXRhLFxuICAgIFRyYW5zZm9ybWVkRGF0YVxufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGNsYXNzIERhdGFDb250YWluZXIge1xuICAgIHB1YmxpYyBkYXRhOiBhbnlbXTtcbiAgICAvKipcbiAgICAgKiBwcm9jZXNzZWQgZGF0YVxuICAgICAqL1xuICAgIHB1YmxpYyB0cmFuc2Zvcm1lZERhdGE6IGFueVtdO1xuICAgIHB1YmxpYyBzdGF0ZTogSURhdGFTdGF0ZSA9IHtcbiAgICB9O1xuICAgIGNvbnN0cnVjdG9yKGRhdGE6IGFueVtdID0gW10pIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1lZERhdGEgPSBkYXRhO1xuICAgIH1cbiAgICBwdWJsaWMgcHJvY2VzcyhzdGF0ZT86IElEYXRhU3RhdGUpOiBEYXRhQ29udGFpbmVyIHtcbiAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFuc2Zvcm1lZERhdGEgPSB0aGlzLmRhdGE7XG4gICAgICAgIC8vIGFwcGx5IGRhdGEgb3BlcmF0aW9uc1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVkRGF0YSA9IERhdGFVdGlsLnByb2Nlc3ModGhpcy5kYXRhLCB0aGlzLnN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8vIENSVUQgb3BlcmF0aW9uc1xuICAgIC8vIGFjY2VzcyBkYXRhIHJlY29yZHNcbiAgICBwdWJsaWMgZ2V0SW5kZXhPZlJlY29yZChyZWNvcmQ6IG9iamVjdCwgZGF0YUFjY2VzczogRGF0YUFjY2VzcyA9IERhdGFBY2Nlc3MuT3JpZ2luYWxEYXRhKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuYWNjZXNzRGF0YShkYXRhQWNjZXNzKTtcbiAgICAgICAgcmV0dXJuIGRhdGEuaW5kZXhPZihyZWNvcmQpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0UmVjb3JkQnlJbmRleChpbmRleDogbnVtYmVyLCBkYXRhQWNjZXNzOiBEYXRhQWNjZXNzID0gRGF0YUFjY2Vzcy5PcmlnaW5hbERhdGEpOiBvYmplY3Qge1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5hY2Nlc3NEYXRhKGRhdGFBY2Nlc3MpO1xuICAgICAgICByZXR1cm4gZGF0YVtpbmRleF07XG4gICAgfVxuICAgIHB1YmxpYyBnZXRSZWNvcmRJbmZvQnlLZXlWYWx1ZShmaWVsZE5hbWU6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGFueSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUFjY2VzczogRGF0YUFjY2VzcyA9IERhdGFBY2Nlc3MuT3JpZ2luYWxEYXRhKTogSVJlY29yZEluZm8ge1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5hY2Nlc3NEYXRhKGRhdGFBY2Nlc3MpO1xuICAgICAgICBjb25zdCBsZW4gPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgY29uc3QgcmVzOiBJUmVjb3JkSW5mbyA9IHtpbmRleDogLTEsIHJlY29yZDogdW5kZWZpbmVkfTtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKGRhdGFbaV1bZmllbGROYW1lXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXMuaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIHJlcy5yZWNvcmQgPSBkYXRhW2ldO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIHB1YmxpYyBhZGRSZWNvcmQocmVjb3JkOiBvYmplY3QsIGF0PzogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmFjY2Vzc0RhdGEoRGF0YUFjY2Vzcy5PcmlnaW5hbERhdGEpO1xuICAgICAgICBpZiAoYXQgPT09IG51bGwgfHwgYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YS5wdXNoKHJlY29yZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhLnNwbGljZShhdCwgMCwgcmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgZGVsZXRlUmVjb3JkKHJlY29yZDogb2JqZWN0KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGluZGV4OiBudW1iZXIgPSB0aGlzLmdldEluZGV4T2ZSZWNvcmQocmVjb3JkLCBEYXRhQWNjZXNzLk9yaWdpbmFsRGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzLmRlbGV0ZVJlY29yZEJ5SW5kZXgoaW5kZXgpO1xuICAgIH1cbiAgICBwdWJsaWMgZGVsZXRlUmVjb3JkQnlJbmRleChpbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmFjY2Vzc0RhdGEoRGF0YUFjY2Vzcy5PcmlnaW5hbERhdGEpO1xuICAgICAgICByZXR1cm4gZGF0YS5zcGxpY2UoaW5kZXgsIDEpLmxlbmd0aCA9PT0gMTtcbiAgICB9XG4gICAgcHVibGljIHVwZGF0ZVJlY29yZEJ5SW5kZXgoaW5kZXg6IG51bWJlciwgbmV3UHJvcGVydGllczogb2JqZWN0KTogb2JqZWN0IHtcbiAgICAgICAgY29uc3QgZGF0YUFjY2VzczogRGF0YUFjY2VzcyA9IERhdGFBY2Nlc3MuT3JpZ2luYWxEYXRhO1xuICAgICAgICBjb25zdCBmb3VuZFJlYyA9IHRoaXMuZ2V0UmVjb3JkQnlJbmRleChpbmRleCwgZGF0YUFjY2Vzcyk7XG4gICAgICAgIGlmICghZm91bmRSZWMpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZm91bmRSZWMsIG5ld1Byb3BlcnRpZXMpO1xuICAgIH1cbiAgICBwcm90ZWN0ZWQgYWNjZXNzRGF0YShkYXRhQWNjZXNzOiBEYXRhQWNjZXNzKSB7XG4gICAgICAgIGxldCByZXM7XG4gICAgICAgIHN3aXRjaCAoZGF0YUFjY2Vzcykge1xuICAgICAgICAgICAgY2FzZSBEYXRhQWNjZXNzLk9yaWdpbmFsRGF0YTpcbiAgICAgICAgICAgIHJlcyA9IHRoaXMuZGF0YTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBEYXRhQWNjZXNzLlRyYW5zZm9ybWVkRGF0YTpcbiAgICAgICAgICAgIHJlcyA9IHRoaXMudHJhbnNmb3JtZWREYXRhO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG59XG4iXX0=